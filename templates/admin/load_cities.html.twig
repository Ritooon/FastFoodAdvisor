{% extends 'base.html.twig' %}

{% block title %}FFA - Admin chargement des villes{% endblock %}

{% block body %}




    <h1 class="w-100 text-white p-4 text-center bg-info">Ces donnÃ©es seront ajoutÃ©es Ã  la base de donnÃ©es</h1>
    
    <div class="row content-container justify-content-center">

        <div class="col-12 p-2">
            <div class="alert alert-dismissible alert-warning">
                <h4 class="alert-heading">ğŸš¨ Attention ğŸš¨</h4>
                <p class="mb-0">
                    â³ Ce chargement est long, mais nÃ©cessaire pour peupler la base donnÃ©es.<br/>
                    â›” Ne pas quitter la page et attendre la fin !<br/>
                    â˜• AprÃ¨s avoir cliquÃ© sur le bouton d'import (Qui met un peu de temps Ã  arriver lui aussi), aller se faire un cafÃ©.<br/>
                    ğŸ§˜ğŸ» Soyez patient.
                </p>
            </div>
        </div>
            
        <div class="col p-2">
            <strong>Nomde Ã  ajouter : {{nbCities}}</strong>

            <div class="progress" id="admin-cities-progress" style="display: none;">
                <div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" 
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>

        <div class="admin-content-bloc w-100">
            {% for row, city in cities %}
                {{city.zipcode}} | {{city.name}}  | {{city.latitude}}  | {{city.longitude}} <br />
            {% endfor %}
        </div>   

        <a href="#" id="loadCitiesBtn" data-nbcities="{{nbCities}}" class="btn btn-success p-4 m-4">Envoyer en base de donnÃ©es</a>
        {# <a href="{{ path('admin/do-load-cities') }}" class="btn btn-success p-4 m-4">Envoyer en base de donnÃ©es</a> #}
    </div>

    
{% endblock %}
